// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-number@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-probability@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-error@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-copy@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-inherit@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-property@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-accessor@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-write-accessor@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/random-base-negative-binomial@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/buffer-from-string@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-next-tick@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-number@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";function v(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})})),t}var y="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function w(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}var x=w,T=_;function M(e){if(x===setTimeout)return setTimeout(e,0);if((x===w||!x)&&setTimeout)return x=setTimeout,setTimeout(e,0);try{return x(e,0)}catch(t){try{return x.call(null,e,0)}catch(t){return x.call(this,e,0)}}}"function"==typeof y.setTimeout&&(x=setTimeout),"function"==typeof y.clearTimeout&&(T=clearTimeout);var E,O=[],P=!1,k=-1;function L(){P&&E&&(P=!1,E.length?O=E.concat(O):k=-1,O.length&&R())}function R(){if(!P){var e=M(L);P=!0;for(var t=O.length;t;){for(E=O,O=[];++k<t;)E&&E[k].run();k=-1,t=O.length}E=null,P=!1,function(e){if(T===clearTimeout)return clearTimeout(e);if((T===_||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(e);try{T(e)}catch(t){try{return T.call(null,e)}catch(t){return T.call(this,e)}}}(e)}}function W(e,t){this.fun=e,this.array=t}W.prototype.run=function(){this.fun.apply(null,this.array)};function q(){}var D=q,N=q,S=q,A=q,V=q,z=q,G=q;var C=y.performance||{},F=C.now||C.mozNow||C.msNow||C.oNow||C.webkitNow||function(){return(new Date).getTime()};var J=new Date;var B={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];O.push(new W(e,t)),1!==O.length||P||M(R)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:D,addListener:N,once:S,off:A,removeListener:V,removeAllListeners:z,emit:G,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*F.call(C),r=Math.floor(t),i=Math.floor(t%1*1e9);return e&&(r-=e[0],(i-=e[1])<0&&(r--,i+=1e9)),[r,i]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-J)/1e3}},I=require("stream");"disable"===B.env.READABLE_STREAM&&I?(module.exports=I,exports=module.exports=I.Readable,exports.Readable=I.Readable,exports.Writable=I.Writable,exports.Duplex=I.Duplex,exports.Transform=I.Transform,exports.PassThrough=I.PassThrough,exports.Stream=I):(exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=I||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"));var H=v(Object.freeze({__proto__:null})),K={objectMode:!1,encoding:null,sep:"\n",copy:!0,siter:1e308},Q=m,U=h,X=c.isPrimitive,Y=f.isPrimitive,Z=g.isPrimitive,$=b.isPrimitive,ee=j.isPrimitive;var te=function(e,t){return Q(t)?U(t,"sep")&&(e.sep=t.sep,!Z(e.sep))?new TypeError("invalid option. `sep` option must be a primitive string. Option: `"+e.sep+"`."):U(t,"objectMode")&&(e.objectMode=t.objectMode,!X(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):U(t,"encoding")&&(e.encoding=t.encoding,!Z(e.encoding)&&null!==e.encoding)?new TypeError("invalid option. `encoding` option must be a primitive string or null. Option: `"+e.encoding+"`."):U(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!Y(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):U(t,"iter")&&(e.iter=t.iter,!ee(e.iter))?new TypeError("invalid option. `iter` option must be a nonnegative integer. Option: `"+e.iter+"`."):U(t,"siter")&&(e.siter=t.siter,!$(e.siter))?new TypeError("invalid option. `siter` option must be a positive integer. Option: `"+e.siter+"`."):(U(t,"prng")&&(e.prng=t.prng),U(t,"seed")&&(e.seed=t.seed),U(t,"state")&&(e.state=t.state),U(t,"copy")&&(e.copy=t.copy),null):new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")};module.exports=void 0!==B&&"renderer"===B.type?require("./browser.js"):require("./node.js");var re=v(Object.freeze({__proto__:null}))("random:streams:negative-binomial"),ie=H.Readable,ne=t.isPrimitive,se=r.isPrimitive,oe=i,ae=n,de=s,pe=o,le=e,ue=a,me=d,he=p.factory,ce=l,fe=u,ge=K,be=te,je=re;function ve(e,t,r){var i,n;if(!(this instanceof ve))return arguments.length>2?new ve(e,t,r):new ve(e,t);if(!ne(e))throw new TypeError("invalid argument. First argument must be a positive number. Value: `"+e+"`.");if(!se(t))throw new TypeError("invalid argument. Second argument must be a probability. Value: `"+t+"`.");if(i=ae(ge),arguments.length>2&&(n=be(i,r)))throw n;return je("Creating a readable stream configured with the following options: %s.",JSON.stringify(i)),ie.call(this,i),pe(this,"_destroyed",!1),le(this,"_objectMode",i.objectMode),le(this,"_sep",i.sep),le(this,"_iter",i.iter),le(this,"_siter",i.siter),pe(this,"_i",0),le(this,"_prng",he(e,t,i)),le(this,"PRNG",this._prng.PRNG),this}de(ve,ie),ue(ve.prototype,"seed",(function(){return this._prng.seed})),ue(ve.prototype,"seedLength",(function(){return this._prng.seedLength})),me(ve.prototype,"state",(function(){return this._prng.state}),(function(e){this._prng.state=e})),ue(ve.prototype,"stateLength",(function(){return this._prng.stateLength})),ue(ve.prototype,"byteLength",(function(){return this._prng.byteLength})),le(ve.prototype,"_read",(function(){var e,t;if(!this._destroyed)for(e=!0;e;){if(this._i+=1,this._i>this._iter)return je("Finished generating pseudorandom numbers."),this.push(null);t=this._prng(),je("Generated a new pseudorandom number. Value: %d. Iter: %d.",t,this._i),!1===this._objectMode&&(t=t.toString(),t=1===this._i?ce(t):ce(this._sep+t)),e=this.push(t),this._i%this._siter==0&&this.emit("state",this.state)}})),le(ve.prototype,"destroy",(function(e){var t;return this._destroyed?(je("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,fe((function(){e&&(je("Stream was destroyed due to an error. Error: %s.",oe(e)?e.message:JSON.stringify(e)),t.emit("error",e));je("Closing the stream..."),t.emit("close")})),this)}));var ye=m,we=n,_e=ve;var xe=n,Te=ve;var Me=e,Ee=ve,Oe=function(e,t,r){var i;if(arguments.length>2){if(!ye(i=r))throw new TypeError("invalid argument. Options must be an object. Value: `"+i+"`.");i=we(r,1)}else i={};return i.objectMode=!0,new _e(e,t,i)},Pe=function(e,t,r){var i,n;return n=1===(i=arguments.length)?xe(e,1):i>2?xe(r,1):{},i<2?s:o;function s(e,t){return new Te(e,t,n)}function o(){return new Te(e,t,n)}};Me(Ee,"objectMode",Oe),Me(Ee,"factory",Pe);var ke=Ee;export{ke as default,Pe as factory,Oe as objectMode};
//# sourceMappingURL=index.mjs.map
